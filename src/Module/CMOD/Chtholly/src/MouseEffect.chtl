;; ç‚æœµè‰é¼ æ ‡ç‰¹æ•ˆ
;; ä¸¥æ ¼æŒ‰ç…§CHTLè¯­æ³•æ–‡æ¡£è¦æ±‚å®ç°

[Custom] @Element ChthollyMouseEffect
{
    div
    {
        class: chtholly-mouse-effect;
        
        style
        {
            .chtholly-mouse-effect
            {
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                pointer-events: none;
                z-index: 9999;
                overflow: hidden;
            }
            
            .mouse-particle
            {
                position: absolute;
                width: 8px;
                height: 8px;
                background: radial-gradient(circle, @Var ChthollyColors.primary-red 0%, @Var ChthollyColors.emerald-green 100%);
                border-radius: 50%;
                pointer-events: none;
                animation: mouseParticle 1s ease-out forwards;
            }
            
            @keyframes mouseParticle
            {
                0% {
                    transform: scale(1);
                    opacity: 1;
                }
                100% {
                    transform: scale(0);
                    opacity: 0;
                }
            }
        }
        
        script
        {
            ;; ç‚æœµè‰é¼ æ ‡ç‰¹æ•ˆé€»è¾‘
            console.log('ğŸ–±ï¸ ç‚æœµè‰çš„é¼ æ ‡ç‰¹æ•ˆå¯åŠ¨');
            
            const effectContainer = {{.chtholly-mouse-effect}};
            let particleCount = 0;
            const maxParticles = 50;
            
            ;; é¼ æ ‡ç§»åŠ¨äº‹ä»¶
            document &-> mousemove {
                const x = event.clientX;
                const y = event.clientY;
                
                ;; åˆ›å»ºç²’å­ç‰¹æ•ˆ
                if (particleCount < maxParticles) {
                    const particle = document.createElement('div');
                    particle.className = 'mouse-particle';
                    particle.style.left = (x - 4) + 'px';
                    particle.style.top = (y - 4) + 'px';
                    
                    ;; éšæœºé¢œè‰²å˜åŒ–
                    const colors = ['#FF6B6B', '#4ECDC4', '#FFB6C1', '#98FB98'];
                    const randomColor = colors[Math.floor(Math.random() * colors.length)];
                    particle.style.background = `radial-gradient(circle, ${randomColor}, transparent)`;
                    
                    effectContainer.appendChild(particle);
                    particleCount++;
                    
                    ;; ç²’å­æ¶ˆå¤±åæ¸…ç†
                    setTimeout(() => {
                        if (particle.parentElement) {
                            particle.remove();
                            particleCount--;
                        }
                    }, 1000);
                }
            };
            
            ;; é¼ æ ‡ç‚¹å‡»ç‰¹æ•ˆ
            document &-> click {
                const x = event.clientX;
                const y = event.clientY;
                
                ;; åˆ›å»ºç‚¹å‡»æ³¢çº¹
                const ripple = document.createElement('div');
                ripple.style.cssText = `
                    position: fixed;
                    left: ${x - 25}px;
                    top: ${y - 25}px;
                    width: 50px;
                    height: 50px;
                    border: 2px solid #FF6B6B;
                    border-radius: 50%;
                    pointer-events: none;
                    z-index: 10000;
                    animation: clickRipple 0.6s ease-out forwards;
                `;
                
                document.body.appendChild(ripple);
                
                setTimeout(() => {
                    ripple.remove();
                }, 600);
                
                console.log('ğŸ’– ç‚æœµè‰é¼ æ ‡ç‚¹å‡»ç‰¹æ•ˆ');
            };
            
            ;; æ·»åŠ ç‚¹å‡»æ³¢çº¹åŠ¨ç”»
            if (!document.getElementById('chthollyClickRippleStyle')) {
                const style = document.createElement('style');
                style.id = 'chthollyClickRippleStyle';
                style.textContent = `
                    @keyframes clickRipple {
                        0% { transform: scale(0); opacity: 1; }
                        100% { transform: scale(4); opacity: 0; }
                    }
                `;
                document.head.appendChild(style);
            }
            
            ;; å¯¼å‡ºæ§åˆ¶æ¥å£
            window.ChthollyMouse = {
                enable: () => {
                    console.log('ğŸ–±ï¸ ç‚æœµè‰é¼ æ ‡ç‰¹æ•ˆå·²å¯ç”¨');
                },
                disable: () => {
                    effectContainer.innerHTML = '';
                    console.log('ğŸ–±ï¸ ç‚æœµè‰é¼ æ ‡ç‰¹æ•ˆå·²ç¦ç”¨');
                }
            };
        }
    }
}