// CHTLç»¼åˆåŠŸèƒ½æ¼”ç¤º
// å±•ç¤ºCHTLã€CHTL JSã€CMODã€CJMODçš„å¼ºå¤§åŠŸèƒ½

[Import] @chtl::Chtholly as Chtholly
[Import] @chtl::Yuigahama as Yui

[Namespace] CHTLComprehensiveDemo

[Configuration] {
    ENABLE_ALL_FEATURES = true;
    THEME = "dual_character";
    PERFORMANCE_MODE = "optimized";
    DEBUG_LEVEL = "info";
}

[Template]
<CharacterCard> {
    background: white;
    border-radius: 15px;
    padding: 30px;
    margin: 20px;
    box-shadow: 0 8px 32px rgba(0,0,0,0.1);
    transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    position: relative;
    overflow: hidden;
}

<ActionButton> {
    background: linear-gradient(45deg, #667eea, #764ba2);
    color: white;
    border: none;
    padding: 15px 30px;
    border-radius: 50px;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
}

[Custom]
<ChthollyCard inherit="CharacterCard"> {
    border-left: 6px solid #ff6b6b;
    background: linear-gradient(135deg, 
        rgba(255, 107, 107, 0.05) 0%, 
        rgba(78, 205, 196, 0.05) 100%);
}

<YuigahamaCard inherit="CharacterCard"> {
    border-left: 6px solid #ff69b4;
    background: linear-gradient(135deg, 
        rgba(255, 105, 180, 0.05) 0%, 
        rgba(255, 192, 203, 0.05) 100%);
}

<ChthollyButton inherit="ActionButton"> {
    background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
}

<YuigahamaButton inherit="ActionButton"> {
    background: linear-gradient(45deg, #ff69b4, #ffc0cb);
}

html {
    head {
        title { "CHTLç»¼åˆåŠŸèƒ½æ¼”ç¤º - åŒè§’è‰²ç³»ç»Ÿ" }
        meta { charset="UTF-8" }
        meta { name="viewport", content="width=device-width, initial-scale=1.0" }
    }
    
    body {
        div {
            class = "comprehensive-demo";
            
            // ä¸»æ ‡é¢˜
            header {
                class = "demo-header";
                
                h1 { "ğŸŒŸ CHTLç»¼åˆåŠŸèƒ½æ¼”ç¤º" }
                p { "å±•ç¤ºCHTLã€CHTL JSã€CMODã€CJMODçš„å¼ºå¤§åŠŸèƒ½" }
                
                div {
                    class = "feature-badges";
                    
                    span { class = "badge chtl"; "CHTLæ ¸å¿ƒ" }
                    span { class = "badge chtljs"; "CHTL JS" }
                    span { class = "badge cmod"; "CMODæ¨¡å—" }
                    span { class = "badge cjmod"; "CJMODæ‰©å±•" }
                }
            }
            
            // åŒè§’è‰²å±•ç¤ºåŒºåŸŸ
            div {
                class = "character-showcase";
                
                // ç‚æœµè‰åŒºåŸŸ
                div {
                    use = "ChthollyCard";
                    class = "character-section";
                    data-character = "chtholly";
                    
                    div {
                        class = "character-info";
                        
                        h2 { "ğŸŒ¸ ç‚æœµè‰Â·è¯ºå¡”Â·å¡å°¼æ¬§é‡Œæ–¯" }
                        p { "å¦–ç²¾å…µå™¨ï¼Œæ¸©æŸ”å–„è‰¯ï¼Œçº¢å‘ç¿ çœ¼çš„ç¾ä¸½å¥³å­©" }
                        
                        div {
                            class = "character-features";
                            
                            h4 { "CJMODå¼ºå¤§åŠŸèƒ½:" }
                            ul {
                                li { "ğŸ’ printMylove - çˆ±çš„è¡¨è¾¾ä¸å›¾åƒå¤„ç†" }
                                li { "ğŸŒŸ iNeverAway - æ°¸æ’å®ˆæŠ¤ä¸çŠ¶æ€ç®¡ç†" }
                                li { "âš¡ util...then - å¼‚æ­¥é“¾å¼æ“ä½œ" }
                            }
                        }
                        
                        button {
                            use = "ChthollyButton";
                            class = "character-demo-btn";
                            data-character = "chtholly";
                            "ä½“éªŒç‚æœµè‰åŠŸèƒ½"
                        }
                    }
                    
                    // ç‚æœµè‰å››å¶ç›¸å†Œ
                    div {
                        use = "Chtholly::FourLeafAlbum";
                        class = "mini-album";
                        data-theme = "chtholly";
                    }
                }
                
                // ç”±æ¯”æ»¨åŒºåŸŸ
                div {
                    use = "YuigahamaCard";
                    class = "character-section";
                    data-character = "yuigahama";
                    
                    div {
                        class = "character-info";
                        
                        h2 { "ğŸ€ ç”±æ¯”æ»¨ç»“è¡£" }
                        p { "æ´»æ³¼å¼€æœ—ï¼Œå–„äºå¯Ÿè¨€è§‚è‰²ï¼Œæ¸©æš–çœŸè¯šçš„å¥³å­©" }
                        
                        div {
                            class = "character-features";
                            
                            h4 { "CMODåŠŸèƒ½æ¨¡å—:" }
                            ul {
                                li { "ğŸ“· å››å¶ç›¸å†Œ - ç¾å¥½å›å¿†å±•ç¤º" }
                                li { "ğŸ“ å¤‡å¿˜å½• - æ—¥å¸¸è®°å½•ç³»ç»Ÿ" }
                                li { "ğŸ® äº¤äº’ç³»ç»Ÿ - æ™ºèƒ½å¯¹è¯åŠŸèƒ½" }
                            }
                        }
                        
                        button {
                            use = "YuigahamaButton";
                            class = "character-demo-btn";
                            data-character = "yuigahama";
                            "ä½“éªŒç”±æ¯”æ»¨åŠŸèƒ½"
                        }
                    }
                    
                    // ç”±æ¯”æ»¨å¤‡å¿˜å½•
                    div {
                        use = "Yui::Memo";
                        class = "mini-memo";
                        data-theme = "yuigahama";
                    }
                }
            }
            
            // ç»¼åˆåŠŸèƒ½æ¼”ç¤ºåŒºåŸŸ
            div {
                class = "integrated-demo";
                
                h2 { "ğŸ”¥ ç»¼åˆåŠŸèƒ½æ¼”ç¤º" }
                p { "ä½“éªŒCHTLå››å¤§æ ¸å¿ƒæŠ€æœ¯çš„ååŒå·¥ä½œ" }
                
                div {
                    class = "demo-grid";
                    
                    // CHTLæ ¸å¿ƒæ¼”ç¤º
                    div {
                        class = "demo-card chtl-demo";
                        
                        h3 { "ğŸ—ï¸ CHTLæ ¸å¿ƒæ¶æ„" }
                        p { "åŒè¯­è¨€åˆ†ç¦»ï¼Œæ¨¡æ¿ç»§æ‰¿ï¼Œé€‰æ‹©å™¨è‡ªåŠ¨åŒ–" }
                        
                        button {
                            class = "demo-action-btn";
                            data-demo = "chtl";
                            "æ¼”ç¤ºCHTLæ ¸å¿ƒ"
                        }
                    }
                    
                    // CHTL JSæ¼”ç¤º
                    div {
                        class = "demo-card chtljs-demo";
                        
                        h3 { "âš¡ CHTL JSå¢å¼º" }
                        p { "å¢å¼ºé€‰æ‹©å™¨ï¼Œäº‹ä»¶å§”æ‰˜ï¼ŒåŠ¨ç”»ç³»ç»Ÿ" }
                        
                        button {
                            class = "demo-action-btn";
                            data-demo = "chtljs";
                            "æ¼”ç¤ºCHTL JS"
                        }
                    }
                    
                    // CMODæ¼”ç¤º
                    div {
                        class = "demo-card cmod-demo";
                        
                        h3 { "ğŸ“¦ CMODæ¨¡å—" }
                        p { "æ¨¡å—åŒ–ç»„ä»¶ï¼Œå®˜æ–¹è§’è‰²æ¨¡å—" }
                        
                        button {
                            class = "demo-action-btn";
                            data-demo = "cmod";
                            "æ¼”ç¤ºCMOD"
                        }
                    }
                    
                    // CJMODæ¼”ç¤º
                    div {
                        class = "demo-card cjmod-demo";
                        
                        h3 { "ğŸ”§ CJMODæ‰©å±•" }
                        p { "C++ APIæ‰©å±•ï¼Œæä¸ºå¼ºå¤§çš„ç‰¹å¾" }
                        
                        button {
                            class = "demo-action-btn";
                            data-demo = "cjmod";
                            "æ¼”ç¤ºCJMOD"
                        }
                    }
                }
            }
            
            // ç»“æœå±•ç¤ºåŒºåŸŸ
            div {
                class = "comprehensive-results";
                id = "demo-results";
                
                h3 { "ğŸ¯ ç»¼åˆæ¼”ç¤ºç»“æœ" }
                div {
                    class = "results-content";
                    "é€‰æ‹©ä¸Šæ–¹åŠŸèƒ½è¿›è¡Œæ¼”ç¤º..."
                }
            }
        }
        
        style {
            .comprehensive-demo {
                font-family: 'Microsoft YaHei', sans-serif;
                line-height: 1.6;
                color: #333;
            }
            
            .demo-header {
                text-align: center;
                padding: 60px 20px;
                background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
                color: white;
            }
            
            .demo-header h1 {
                font-size: 3.5em;
                margin: 0 0 20px 0;
                text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            }
            
            .feature-badges {
                display: flex;
                justify-content: center;
                gap: 15px;
                margin-top: 30px;
                flex-wrap: wrap;
            }
            
            .badge {
                padding: 8px 16px;
                border-radius: 20px;
                font-weight: bold;
                font-size: 14px;
            }
            
            .badge.chtl { background: #ff6b6b; }
            .badge.chtljs { background: #4ecdc4; }
            .badge.cmod { background: #ffd93d; color: #333; }
            .badge.cjmod { background: #a8e6cf; color: #333; }
            
            .character-showcase {
                display: grid;
                grid-template-columns: 1fr 1fr;
                gap: 40px;
                max-width: 1200px;
                margin: 40px auto;
                padding: 0 20px;
            }
            
            .integrated-demo {
                max-width: 1000px;
                margin: 60px auto;
                padding: 0 20px;
            }
            
            .demo-grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
                gap: 25px;
                margin: 30px 0;
            }
            
            .demo-card {
                background: white;
                padding: 25px;
                border-radius: 12px;
                box-shadow: 0 4px 20px rgba(0,0,0,0.1);
                text-align: center;
                transition: all 0.3s ease;
            }
            
            .demo-card:hover {
                transform: translateY(-5px);
                box-shadow: 0 8px 30px rgba(0,0,0,0.15);
            }
            
            .chtl-demo { border-top: 4px solid #ff6b6b; }
            .chtljs-demo { border-top: 4px solid #4ecdc4; }
            .cmod-demo { border-top: 4px solid #ffd93d; }
            .cjmod-demo { border-top: 4px solid #a8e6cf; }
            
            .demo-action-btn {
                background: #6c5ce7;
                color: white;
                border: none;
                padding: 12px 24px;
                border-radius: 25px;
                font-weight: bold;
                cursor: pointer;
                transition: all 0.3s ease;
                margin-top: 15px;
            }
            
            .demo-action-btn:hover {
                background: #5f3dc4;
                transform: scale(1.05);
            }
            
            .comprehensive-results {
                max-width: 1000px;
                margin: 40px auto;
                padding: 0 20px;
            }
            
            .results-content {
                background: #2d3748;
                color: #e2e8f0;
                padding: 25px;
                border-radius: 10px;
                font-family: 'Consolas', monospace;
                white-space: pre-wrap;
                min-height: 200px;
                border: 3px solid #4299e1;
            }
            
            @media (max-width: 768px) {
                .character-showcase {
                    grid-template-columns: 1fr;
                }
                
                .demo-header h1 {
                    font-size: 2.5em;
                }
            }
        }
        
        // ç»¼åˆåŠŸèƒ½è„šæœ¬
        script {
            console.log('ğŸš€ CHTLç»¼åˆåŠŸèƒ½æ¼”ç¤ºåˆå§‹åŒ–');
            console.log('ğŸ”¥ åŠ è½½æ ¸å¿ƒç‰¹å¾: CHTL + CHTL JS + CMOD + CJMOD');
            
            // ç»¼åˆæ¼”ç¤ºåŠŸèƒ½
            const CHTLComprehensiveDemo = {
                // CHTLæ ¸å¿ƒåŠŸèƒ½æ¼”ç¤º
                demonstrateCHTL: function() {
                    console.log('ğŸ—ï¸ CHTLæ ¸å¿ƒæ¶æ„æ¼”ç¤º');
                    
                    return {
                        architecture: 'åŒè¯­è¨€åˆ†ç¦»æ¶æ„',
                        features: [
                            'æ¨¡æ¿å®šä¹‰å’Œç»§æ‰¿',
                            'è‡ªå®šä¹‰å…ƒç´ å’Œæ ·å¼',
                            'é€‰æ‹©å™¨è‡ªåŠ¨åŒ–',
                            'å‘½åç©ºé—´ç³»ç»Ÿ',
                            'çº¦æŸéªŒè¯',
                            'é…ç½®ç®¡ç†',
                            'å¯¼å…¥ç³»ç»Ÿ'
                        ],
                        advantages: [
                            'UTF-8ä¸­æ–‡å­—ç¬¦å®Œæ•´æ”¯æŒ',
                            'æ›´ç¬¦åˆå¼€å‘è€…ç¼–å†™ä¹ æƒ¯',
                            'å¼ºå¤§çš„æ¨¡æ¿ç³»ç»Ÿ',
                            'æ™ºèƒ½çš„é€‰æ‹©å™¨å¤„ç†'
                        ],
                        demo_result: 'âœ… CHTLæ ¸å¿ƒåŠŸèƒ½æ¼”ç¤ºå®Œæˆ'
                    };
                },
                
                // CHTL JSåŠŸèƒ½æ¼”ç¤º
                demonstrateCHTLJS: function() {
                    console.log('âš¡ CHTL JSå¢å¼ºåŠŸèƒ½æ¼”ç¤º');
                    
                    // æ¨¡æ‹Ÿå¢å¼ºé€‰æ‹©å™¨
                    const enhancedSelector = '{{.demo-element[data-active="true"]}}';
                    
                    // æ¨¡æ‹ŸlistenåŠŸèƒ½
                    const listenDemo = {
                        selector: '.comprehensive-demo',
                        event: 'custom:chtljs-demo',
                        callback: function() {
                            console.log('ğŸ§ CHTL JSç›‘å¬å™¨è§¦å‘');
                        }
                    };
                    
                    // æ¨¡æ‹ŸdelegateåŠŸèƒ½
                    const delegateDemo = {
                        parent: '.character-showcase',
                        target: '.character-section',
                        event: 'interaction'
                    };
                    
                    return {
                        enhanced_selectors: enhancedSelector,
                        listen_system: listenDemo,
                        delegate_system: delegateDemo,
                        operators: ['-> æ“ä½œç¬¦', '&-> äº‹ä»¶ç»‘å®šæ“ä½œç¬¦'],
                        advanced_features: ['animateåŠ¨ç”»', 'virè™šå¯¹è±¡', 'moduleæ¨¡å—'],
                        demo_result: 'âœ… CHTL JSå¢å¼ºåŠŸèƒ½æ¼”ç¤ºå®Œæˆ'
                    };
                },
                
                // CMODåŠŸèƒ½æ¼”ç¤º
                demonstrateCMOD: function() {
                    console.log('ğŸ“¦ CMODæ¨¡å—ç³»ç»Ÿæ¼”ç¤º');
                    
                    const modules = [
                        {
                            name: 'Chtholly',
                            components: ['FourLeafAlbum', 'Accordion'],
                            theme: 'romantic',
                            character: 'ç‚æœµè‰Â·è¯ºå¡”Â·å¡å°¼æ¬§é‡Œæ–¯'
                        },
                        {
                            name: 'Yuigahama',
                            components: ['FourLeafAlbum', 'Memo'],
                            theme: 'cheerful',
                            character: 'ç”±æ¯”æ»¨ç»“è¡£'
                        }
                    ];
                    
                    return {
                        module_system: 'CMODå®˜æ–¹æ¨¡å—',
                        loaded_modules: modules,
                        features: [
                            'è§’è‰²åŒ–è®¾è®¡',
                            'ç»„ä»¶å¤ç”¨',
                            'ä¸»é¢˜ç³»ç»Ÿ',
                            'æ¨¡å—å¯¼å…¥'
                        ],
                        demo_result: 'âœ… CMODæ¨¡å—ç³»ç»Ÿæ¼”ç¤ºå®Œæˆ'
                    };
                },
                
                // CJMODåŠŸèƒ½æ¼”ç¤º
                demonstrateCJMOD: function() {
                    console.log('ğŸ”§ CJMODæä¸ºå¼ºå¤§ç‰¹å¾æ¼”ç¤º');
                    
                    // æ¨¡æ‹ŸCJMOD APIåŠŸèƒ½
                    const cjmodAPIs = {
                        Syntax: 'æ™ºèƒ½è¯­æ³•åˆ†æå’Œç±»å‹æ£€æµ‹',
                        Arg: 'å‚æ•°ç®¡ç†å’ŒåŠ¨æ€ç»‘å®š',
                        AtomArg: '5ç§å ä½ç¬¦ç±»å‹å¤„ç†',
                        Scanner: 'ä»£ç æ‰«æå’Œå ä½ç¬¦æ£€æµ‹',
                        Generator: 'JavaScriptå¯¼å‡ºå’Œä»£ç ç”Ÿæˆ',
                        CHTLJSFunction: 'å‡½æ•°åŒ…è£…å™¨ç”Ÿæˆ'
                    };
                    
                    // æ¨¡æ‹Ÿä»£ç ç‰‡æ®µå¤„ç†
                    const fragmentProcessing = {
                        input: 'listen { selector: ".test", callback: printMylove { target: "world" } }',
                        analysis: 'CHTL JSå‡½æ•°æ£€æµ‹',
                        processing: 'CJMOD APIå¤„ç†',
                        output: 'åŒ…è£…å™¨ç”Ÿæˆçš„JavaScriptä»£ç '
                    };
                    
                    return {
                        api_system: cjmodAPIs,
                        fragment_processing: fragmentProcessing,
                        extension_capability: 'C++ APIæ‰©å±•',
                        power_level: 'æä¸ºå¼ºå¤§',
                        integration: 'ä¸ç¼–è¯‘å™¨æ·±åº¦é›†æˆ',
                        demo_result: 'âœ… CJMODæä¸ºå¼ºå¤§ç‰¹å¾æ¼”ç¤ºå®Œæˆ'
                    };
                }
            };
            
            // é¡µé¢äº¤äº’é€»è¾‘
            document.addEventListener('DOMContentLoaded', function() {
                console.log('ğŸ“„ ç»¼åˆæ¼”ç¤ºé¡µé¢åŠ è½½å®Œæˆ');
                
                const resultsElement = document.querySelector('.results-content');
                
                // è§’è‰²æ¼”ç¤ºæŒ‰é’®
                document.querySelectorAll('.character-demo-btn').forEach(button => {
                    button.addEventListener('click', function() {
                        const character = this.dataset.character;
                        
                        if (character === 'chtholly') {
                            // ç‚æœµè‰åŠŸèƒ½æ¼”ç¤º
                            resultsElement.textContent = `ğŸŒ¸ ç‚æœµè‰åŠŸèƒ½æ¼”ç¤ºç»“æœ:

ğŸ’ printMyloveåŠŸèƒ½:
  - å›¾åƒè½¬å­—ç¬¦åƒç´ å—
  - çˆ±æ„è¡¨è¾¾ç³»ç»Ÿ
  - æµªæ¼«ä¸»é¢˜æ•ˆæœ

ğŸŒŸ iNeverAwayåŠŸèƒ½:
  - æ°¸æ’å®ˆæŠ¤æ‰¿è¯º
  - çŠ¶æ€ç®¡ç†ç³»ç»Ÿ
  - ä¿æŠ¤æœºåˆ¶

âš¡ util...thenåŠŸèƒ½:
  - å¼‚æ­¥é“¾å¼æ“ä½œ
  - ä¼˜é›…çš„ä»£ç æµ
  - æ•ˆæœç»„åˆ

âœ¨ ç‚æœµè‰çš„ç‰¹è‰²: æ¸©æŸ”ã€å–„è‰¯ã€å¼ºå¤§çš„åŠ›é‡`;
                        } else if (character === 'yuigahama') {
                            // ç”±æ¯”æ»¨åŠŸèƒ½æ¼”ç¤º
                            resultsElement.textContent = `ğŸ€ ç”±æ¯”æ»¨ç»“è¡£åŠŸèƒ½æ¼”ç¤ºç»“æœ:

ğŸ“· å››å¶ç›¸å†ŒåŠŸèƒ½:
  - ç¾å¥½å›å¿†å±•ç¤º
  - å››å¶è‰å¸ƒå±€
  - åŠ¨ç”»è¿‡æ¸¡æ•ˆæœ

ğŸ“ å¤‡å¿˜å½•åŠŸèƒ½:
  - æ—¥å¸¸è®°å½•ç³»ç»Ÿ
  - å¿ƒæƒ…çŠ¶æ€ç®¡ç†
  - æ™ºèƒ½åˆ†ç±»

ğŸ® äº¤äº’ç³»ç»Ÿ:
  - æ™ºèƒ½å¯¹è¯åŠŸèƒ½
  - æƒ…æ„Ÿè¯†åˆ«
  - ä¸ªæ€§åŒ–å“åº”

âœ¨ ç”±æ¯”æ»¨çš„ç‰¹è‰²: æ´»æ³¼ã€å¼€æœ—ã€å–„äºç†è§£ä»–äºº`;
                        }
                    });
                });
                
                // ç»¼åˆåŠŸèƒ½æ¼”ç¤ºæŒ‰é’®
                document.querySelectorAll('.demo-action-btn').forEach(button => {
                    button.addEventListener('click', function() {
                        const demoType = this.dataset.demo;
                        let result;
                        
                        switch(demoType) {
                            case 'chtl':
                                result = CHTLComprehensiveDemo.demonstrateCHTL();
                                break;
                            case 'chtljs':
                                result = CHTLComprehensiveDemo.demonstrateCHTLJS();
                                break;
                            case 'cmod':
                                result = CHTLComprehensiveDemo.demonstrateCMOD();
                                break;
                            case 'cjmod':
                                result = CHTLComprehensiveDemo.demonstrateCJMOD();
                                break;
                        }
                        
                        if (result) {
                            resultsElement.textContent = `${demoType.toUpperCase()}åŠŸèƒ½æ¼”ç¤ºç»“æœ:\n\n${JSON.stringify(result, null, 2)}`;
                        }
                    });
                });
                
                // åˆå§‹åŒ–åŠ¨ç”»
                console.log('ğŸ¨ åˆå§‹åŒ–é¡µé¢åŠ¨ç”»æ•ˆæœ');
                setTimeout(() => {
                    document.querySelectorAll('.character-section').forEach((section, index) => {
                        section.style.opacity = '0';
                        section.style.transform = 'translateY(30px)';
                        
                        setTimeout(() => {
                            section.style.transition = 'all 0.6s ease';
                            section.style.opacity = '1';
                            section.style.transform = 'translateY(0)';
                        }, index * 300);
                    });
                }, 500);
                
                console.log('ğŸŠ CHTLç»¼åˆåŠŸèƒ½æ¼”ç¤ºå‡†å¤‡å®Œæˆ');
                console.log('ğŸ”¥ å¯æ¼”ç¤ºåŠŸèƒ½: CHTLæ ¸å¿ƒã€CHTL JSã€CMODæ¨¡å—ã€CJMODæ‰©å±•');
            });
        }
    }
}