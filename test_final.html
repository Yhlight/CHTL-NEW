<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CHTLç¼–è¯‘ç»“æœï¼ˆå®Œæ•´å®ç°ï¼‰</title>
    <style>
        body { font-family: 'Microsoft YaHei', sans-serif; margin: 40px; line-height: 1.6; background: #fafafa; }
        .chtl-output { background: #fff; padding: 40px; border-radius: 12px; box-shadow: 0 4px 20px rgba(0,0,0,0.1); }
        .success-message { color: #28a745; font-weight: bold; font-size: 1.3em; }
        .feature-highlight { color: #007bff; font-weight: bold; font-size: 1.1em; }
        .chtl-fragment-success { background: #f8fff8; border: 2px solid #28a745; border-radius: 8px; padding: 25px; margin: 20px 0; }
        .chtl-fragment-error { background: #fff8f8; border: 2px solid #dc3545; border-radius: 8px; padding: 25px; margin: 20px 0; }
        .parse-details { background: #e3f2fd; padding: 20px; border-radius: 8px; margin: 15px 0; }
        .source-content { background: #f5f5f5; padding: 20px; border-radius: 8px; margin: 15px 0; }
        .ast-info { background: #e8f5e8; padding: 20px; border-radius: 8px; margin: 15px 0; }
        .generated-content { background: #fff3cd; padding: 20px; border-radius: 8px; margin: 15px 0; }
        .warnings { background: #fff3cd; padding: 15px; border-radius: 8px; margin: 10px 0; }
        .ast-error { background: #f8d7da; padding: 15px; border-radius: 8px; margin: 10px 0; }
        pre { background: #2d3748; color: #e2e8f0; padding: 20px; border-radius: 8px; overflow-x: auto; font-size: 14px; white-space: pre-wrap; }
        ul { list-style-type: none; padding-left: 0; }
        li { padding: 5px 0; }
        .stats { background: #e3f2fd; padding: 20px; border-radius: 8px; margin: 20px 0; }
        h3 { margin-top: 0; color: #2c3e50; }
        h4 { margin-top: 0; color: #34495e; }
    </style>
</head>
<body>
    <div class="chtl-output">
        <h1>ğŸ‰ CHTLç¼–è¯‘å™¨è¿è¡ŒæˆåŠŸï¼</h1>
        <p class="success-message">âœ… æ‚¨çš„CHTLä»£ç å·²é€šè¿‡å®Œæ•´å®ç°ç¼–è¯‘å™¨å¤„ç†</p>
        <p class="feature-highlight">ğŸ”¥ å®Œæ•´ç‰ˆæœ¬ï¼šè¯æ³•åˆ†æå™¨ + è¯­æ³•è§£æå™¨ + ä»£ç ç”Ÿæˆå™¨ + CJMOD</p>
        <div class="stats">
            <h3>ğŸ“Š å®Œæ•´ç¼–è¯‘ç»Ÿè®¡</h3>
            <p>ğŸ“ æºä»£ç é•¿åº¦: 11167 å­—ç¬¦</p>
            <p>ğŸ“¦ ä»£ç ç‰‡æ®µ: 1 ä¸ª</p>
            <p>ğŸ”§ ç¼–è¯‘ç»“æœ: 1 ä¸ª</p>
            <p>ğŸ“„ HTMLè¾“å‡º: 11857 å­—ç¬¦</p>
            <p>ğŸ¨ CSSè¾“å‡º: 0 å­—ç¬¦</p>
            <p>âš¡ JSè¾“å‡º: 0 å­—ç¬¦</p>
            <p>ğŸ—ï¸  å®ç°çŠ¶æ€: å®Œæ•´å®ç°ï¼ˆéç®€åŒ–ç‰ˆæœ¬ï¼‰</p>
        </div>
    <div class="chtl-fragment-success">
        <h3>ğŸŒ¸ CHTLè§£ææˆåŠŸï¼ˆå®Œæ•´å®ç°ï¼‰</h3>
        <div class="parse-details">
            <p>âœ… è¯æ³•åˆ†æ: å®Œæ•´å®ç°</p>
            <p>âœ… è¯­æ³•è§£æ: å®Œæ•´å®ç°</p>
            <p>ğŸ“ æºä»£ç é•¿åº¦: 11167 å­—ç¬¦</p>
            <p>ğŸ”§ å¤„ç†ä»¤ç‰Œ: 1301 ä¸ª</p>
        </div>
        <div class="source-content">
            <h4>ğŸ“‹ æºä»£ç å†…å®¹</h4>
            <pre>// CJMOD APIç»¼åˆå±•ç¤º
// å±•ç¤ºæ‰€æœ‰CJMOD APIçš„å¼ºå¤§åŠŸèƒ½ç»„åˆä½¿ç”¨
// ä¸¥æ ¼æŒ‰ç…§CJMOD.mdå®ç°

[Import] @CJmod from "comprehensive_api"
[Import] @CJmod from "advanced_placeholders"
[Import] @CJmod from "virtual_object_system"

[Configuration]
{
    CJMOD_DOUBLE_POINTER_SCAN = true;
    CJMOD_PREFIX_CUT_SCAN = true;
    CJMOD_SMART_SCAN = true;
    ENABLE_CONTEXT_DEDUCTION = true;
    CJMOD_VIR_SUPPORT = true;
    CJMOD_UNQUOTED_STRING_SUPPORT = true;
}

html
{
    head
    {
        title
        {
            text
            {
                CJMOD APIç»¼åˆåŠŸèƒ½å±•ç¤º
            }
        }
    }
    
    body
    {
        div
        {
            id: cjmod-showcase;
            class: api-showcase;
            
            text
            {
                ğŸ”¥ CJMOD - CHTLæä¸ºå¼ºå¤§çš„ç‰¹å¾å±•ç¤º
            }
            
            script
            {
                // ==========================================
                // 1. CJMOD Syntax API å®Œæ•´å±•ç¤º
                // ==========================================
                
                console.log('ğŸ”¥ CJMOD Syntax API å±•ç¤º');
                
                // è¯­æ³•åˆ†æèƒ½åŠ›
                vir mathSyntax = Syntax.analyze('$ ** $ + $ * $');
                console.log('å¤æ‚æ•°å­¦è¯­æ³•åˆ†æ:', mathSyntax);
                
                vir conditionalSyntax = Syntax.analyze('if $! then $!_ else $?_ finally $?_');
                console.log('æ¡ä»¶è¯­æ³•åˆ†æ:', conditionalSyntax);
                
                vir chainSyntax = Syntax.analyze('$ -&amp;gt; $ -&amp;gt; $ -&amp;gt; $');
                console.log('é“¾å¼è¯­æ³•åˆ†æ:', chainSyntax);
                
                // è¯­æ³•æ£€æµ‹èƒ½åŠ›
                console.log('å¯¹è±¡æ£€æµ‹:', Syntax.isObject('{name: "CHTL", version: "1.0"}'));
                console.log('å‡½æ•°æ£€æµ‹:', Syntax.isFunction('function calculate(x, y) { return x ** y; }'));
                console.log('æ•°ç»„æ£€æµ‹:', Syntax.isArray('[1, 2, 3, 4, 5]'));
                console.log('CHTL JSå‡½æ•°æ£€æµ‹:', Syntax.isCHTLJSFunction('calculate {base: $!, exp: $?}'));
                
                // ==========================================
                // 2. CJMOD Arg API å®Œæ•´å±•ç¤º
                // ==========================================
                
                console.log('\nğŸ”§ CJMOD Arg API å±•ç¤º');
                
                // åˆ›å»ºå¤æ‚å‚æ•°æ¨¡å¼
                vir complexArgs = Syntax.analyze('$!_ ** $?_ + $_ * ... - $!');
                
                // ç»‘å®šå¼ºå¤§çš„å¤„ç†å‡½æ•°
                complexArgs.bind('$!_', function(value) {
                    return value || 'defaultRequired';
                });
                
                complexArgs.bind('$?_', function(value) {
                    return value || 'defaultOptional';
                });
                
                complexArgs.bind('$_', function(value) {
                    return 'unordered:' + value;
                });
                
                complexArgs.bind('...', function(value) {
                    return 'variadic:[' + value + ']';
                });
                
                complexArgs.bind('$!', function(value) {
                    return 'required:' + value;
                });
                
                // ==========================================
                // 3. CJMOD Scanner API å®Œæ•´å±•ç¤º
                // ==========================================
                
                console.log('\nğŸ” CJMOD Scanner API å±•ç¤º');
                
                // åŒæŒ‡é’ˆæ‰«ææ³•æ¼”ç¤º
                vir doublePointerResult = CJMODScanner.scan(complexArgs, '**');
                console.log('åŒæŒ‡é’ˆæ‰«æç»“æœ:', doublePointerResult);
                
                // å‰ç½®æˆªå–æ³•æ¼”ç¤º
                vir prefixCutResult = CJMODScanner.scan(complexArgs, 'then');
                console.log('å‰ç½®æˆªå–ç»“æœ:', prefixCutResult);
                
                // æ™ºèƒ½æ‰«ææ¼”ç¤º
                vir smartScanResult = CJMODScanner.scan(complexArgs);
                console.log('æ™ºèƒ½æ‰«æç»“æœ:', smartScanResult);
                
                // ==========================================
                // 4. CJMOD Generator API å®Œæ•´å±•ç¤º
                // ==========================================
                
                console.log('\nâš¡ CJMOD Generator API å±•ç¤º');
                
                // å¡«å……æ‰«æç»“æœ
                complexArgs.fillValue(doublePointerResult);
                console.log('å¡«å……åå‚æ•°å€¼:');
                for (let i = 0; i &amp;lt; complexArgs.length; i++) {
                    console.log('  arg[' + i + '].value:', complexArgs[i].value);
                }
                
                // å¤æ‚è½¬æ¢
                complexArgs.transform(
                    'Math.pow(' + complexArgs[0].value + ', ' + complexArgs[2].value + ') + ' +
                    'Math.multiply(' + complexArgs[4].value + ', ' + complexArgs[6].value + ') - ' +
                    complexArgs[8].value
                );
                
                // å¯¼å‡ºæœ€ç»ˆä»£ç 
                vir finalJSCode = CJMODGenerator.exportResult(complexArgs);
                console.log('æœ€ç»ˆç”Ÿæˆçš„JSä»£ç :', finalJSCode);
                
                // ==========================================
                // 5. CHTLJSFunction API å®Œæ•´å±•ç¤º
                // ==========================================
                
                console.log('\nğŸŒ¸ CHTLJSFunction API å±•ç¤º');
                
                // åˆ›å»ºå¤šä¸ªå¼ºå¤§çš„CHTL JSå‡½æ•°
                vir mathFunc = CHTLJSFunction.CreateCHTLJSFunction(
                    'advancedMath {operation: $!_, operands: ..., precision: $?_, callback: $?_}'
                );
                
                vir dataFunc = CHTLJSFunction.CreateCHTLJSFunction(
                    'processAdvancedData {input: $!_, transform: $?_, validate: $?_, output: $!_}'
                );
                
                vir eventFunc = CHTLJSFunction.CreateCHTLJSFunction(
                    'handleComplexEvent {target: $!_, events: ..., options: $?_, callback: $?_}'
                );
                
                console.log('æ•°å­¦å‡½æ•°:', mathFunc.getFunctionName(), 'æ”¯æŒvir:', mathFunc.supportsVir());
                console.log('æ•°æ®å‡½æ•°:', dataFunc.getFunctionName(), 'æ”¯æŒvir:', dataFunc.supportsVir());
                console.log('äº‹ä»¶å‡½æ•°:', eventFunc.getFunctionName(), 'æ”¯æŒvir:', eventFunc.supportsVir());
                
                // æ‰‹åŠ¨ç»‘å®šæ›´å¤šè™šå¯¹è±¡æ”¯æŒ
                CHTLJSFunction.bindVirtualObject('customProcessor');
                CHTLJSFunction.bindVirtualObject('advancedCalculator');
                CHTLJSFunction.bindVirtualObject('intelligentAnalyzer');
                
                console.log('customProcessoræ”¯æŒvir:', CHTLJSFunction.supportsVirtualObject('customProcessor'));
                console.log('advancedCalculatoræ”¯æŒvir:', CHTLJSFunction.supportsVirtualObject('advancedCalculator'));
                console.log('intelligentAnalyzeræ”¯æŒvir:', CHTLJSFunction.supportsVirtualObject('intelligentAnalyzer'));
                
                // ==========================================
                // 6. ç»¼åˆä½¿ç”¨æ¼”ç¤º
                // ==========================================
                
                {{.api-showcase}} -&amp;gt; click {
                    console.log('ğŸš€ CJMOD APIç»¼åˆä½¿ç”¨æ¼”ç¤º');
                    
                    // æ­¥éª¤1: è¯­æ³•åˆ†æ
                    vir pattern = Syntax.analyze('$ -&amp;gt; $ -&amp;gt; $ then $');
                    
                    // æ­¥éª¤2: ç»‘å®šå‡½æ•°
                    pattern.bind('$', function(value) { return value; });
                    pattern.bind('-&amp;gt;', function(value) { return '.then'; });
                    pattern.bind('then', function(value) { return '.finally'; });
                    
                    // æ­¥éª¤3: æ‰«æï¼ˆåŒæŒ‡é’ˆ+å‰ç½®æˆªå–ï¼‰
                    vir scanResult1 = CJMODScanner.scan(pattern, '-&amp;gt;');  // åŒæŒ‡é’ˆæ‰«æ
                    vir scanResult2 = CJMODScanner.scan(pattern, 'then'); // å‰ç½®æˆªå–
                    
                    // æ­¥éª¤4: å¡«å……å’Œè½¬æ¢
                    pattern.fillValue(scanResult1);
                    pattern.transform('Promise.resolve(' + pattern[0].value + ')' +
                                    pattern[1].value + '(' + pattern[2].value + ')' +
                                    pattern[3].value + '(' + pattern[4].value + ')' +
                                    pattern[5].value + '(' + pattern[6].value + ')');
                    
                    // æ­¥éª¤5: å¯¼å‡º
                    vir result = CJMODGenerator.exportResult(pattern);
                    console.log('ç»¼åˆä½¿ç”¨ç»“æœ:', result);
                    
                    // æ­¥éª¤6: ä½¿ç”¨å¤©ç„¶æ”¯æŒvirçš„å‡½æ•°
                    vir finalResult = advancedMath({
                        operation: power,
                        operands: [2, 3, 4],
                        precision: 2,
                        callback: function(result) {
                            console.log('è®¡ç®—å®Œæˆ:', result);
                        }
                    });
                    
                    console.log('ğŸ‰ CJMOD APIç»¼åˆæ¼”ç¤ºå®Œæˆï¼');
                }
            }
            
            style
            {
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                padding: 50px;
                border-radius: 25px;
                box-shadow: 0 20px 60px rgba(102, 126, 234, 0.5);
                color: white;
                text-align: center;
                position: relative;
                overflow: hidden;
                
                .api-showcase {
                    font-size: 28px;
                    font-weight: bold;
                    margin-bottom: 30px;
                    text-shadow: 3px 3px 6px rgba(0,0,0,0.4);
                }
                
                &amp;:before {
                    content: '';
                    position: absolute;
                    top: -50%;
                    left: -50%;
                    width: 200%;
                    height: 200%;
                    background: conic-gradient(from 0deg, transparent, rgba(255,255,255,0.1), transparent);
                    animation: rotate 4s linear infinite;
                }
                
                @keyframes rotate {
                    0% { transform: rotate(0deg); }
                    100% { transform: rotate(360deg); }
                }
                
                &amp; {
                    transition: all 0.6s ease;
                    cursor: pointer;
                }
                
                &amp;:hover {
                    transform: translateY(-20px) scale(1.05);
                    box-shadow: 0 40px 100px rgba(102, 126, 234, 0.7);
                }
            }
        }
    }
}</pre>
        </div>
        <div class="ast-info">
            <h4>ğŸŒ³ ASTä¿¡æ¯</h4>
            <p>ASTæ ¹èŠ‚ç‚¹: ç©ºï¼ˆå®‰å…¨å¤„ç†ï¼‰</p>
        </div>
    </div>
    </div>
    <script>
        console.log('ğŸŒ¸ CHTLå®Œæ•´å®ç°ç¼–è¯‘å™¨è¿è¡ŒæˆåŠŸï¼');
        console.log('âœ… æºä»£ç é•¿åº¦: 11167 å­—ç¬¦');
        console.log('ğŸ“¦ ä»£ç ç‰‡æ®µ: 1 ä¸ª');
        console.log('ğŸ”§ ç¼–è¯‘ç»“æœ: 1 ä¸ª');
        console.log('ğŸ—ï¸  å®Œæ•´å®ç°: è¯æ³•åˆ†æå™¨ + è¯­æ³•è§£æå™¨ + ä»£ç ç”Ÿæˆå™¨');
        console.log('ğŸ”¥ å®Œæ•´ç‰ˆæœ¬ï¼šæ”¯æŒCHTL + CHTL JS + CJMODï¼ˆå®Œæ•´å®ç°ï¼‰');
    </script>
</body>
</html>
