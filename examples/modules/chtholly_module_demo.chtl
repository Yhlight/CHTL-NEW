// ç‚æœµè‰å®˜æ–¹æ¨¡å—ä½¿ç”¨æ¼”ç¤º
// å±•ç¤ºå®˜æ–¹æ¨¡å—çš„å¼ºå¤§åŠŸèƒ½å’Œè§’è‰²åŒ–è®¾è®¡

[Import] @chtl::Chtholly as Chtholly

[Namespace] ChthollyDemo

html {
    head {
        title { "ç‚æœµè‰å®˜æ–¹æ¨¡å—æ¼”ç¤º" }
        meta { charset="UTF-8" }
        
        // å¼•å…¥ç‚æœµè‰ä¸»é¢˜æ ·å¼
        style {
            :root {
                --chtholly-primary: #ff6b6b;
                --chtholly-secondary: #4ecdc4;
                --chtholly-accent: #ffd93d;
                --chtholly-text: #2c3e50;
                --chtholly-bg: #f8f9fa;
            }
        }
    }
    
    body {
        div {
            class = "chtholly-world";
            
            // é¡µé¢æ ‡é¢˜
            header {
                class = "chtholly-header";
                
                h1 { "ğŸŒ¸ ç‚æœµè‰Â·è¯ºå¡”Â·å¡å°¼æ¬§é‡Œæ–¯" }
                p { "ä¸–ç•Œä¸Šæœ€å¹¸ç¦çš„å¥³å­© - å®˜æ–¹æ¨¡å—æ¼”ç¤º" }
            }
            
            // å››å¶ç›¸å†Œç»„ä»¶ï¼ˆæ¥è‡ªCMODï¼‰
            div {
                use = "Chtholly::FourLeafAlbum";
                data-images = "chtholly1.jpg,chtholly2.jpg,chtholly3.jpg";
                
                h3 { "ğŸ“¸ å››å¶ç›¸å†Œ" }
                p { "ç‚æœµè‰çš„ç¾å¥½å›å¿†ï¼Œå››å¶è‰å½¢çŠ¶çš„ç›¸å†Œå±•ç¤º" }
            }
            
            // æ‰‹é£ç´ç»„ä»¶ï¼ˆæ¥è‡ªCMODï¼‰
            div {
                use = "Chtholly::Accordion";
                
                h3 { "ğŸµ æ‰‹é£ç´ç»„ä»¶" }
                
                div {
                    class = "accordion-item";
                    data-title = "ç‚æœµè‰çš„æ•…äº‹";
                    
                    p { "åœ¨æµ®æ¸¸å¤§é™†ç¾¤çš„å¤©ç©ºä¸­ï¼Œç”Ÿæ´»ç€è¢«ç§°ä¸º'å¦–ç²¾'çš„å°‘å¥³ä»¬..." }
                }
                
                div {
                    class = "accordion-item";
                    data-title = "å¦–ç²¾å…µå™¨";
                    
                    p { "ç‚æœµè‰æ˜¯æœ€å¼ºçš„å¦–ç²¾å…µå™¨ï¼Œæ‹¥æœ‰æ¯ç­ä¸€åˆ‡çš„åŠ›é‡..." }
                }
                
                div {
                    class = "accordion-item";
                    data-title = "æœ€åçš„æˆ˜æ–—";
                    
                    p { "ä¸ºäº†ä¿æŠ¤é‡è¦çš„äººï¼Œç‚æœµè‰é€‰æ‹©äº†ç‰ºç‰²..." }
                }
            }
            
            // åŠŸèƒ½æ¼”ç¤ºåŒºåŸŸ
            div {
                class = "demo-section";
                
                h3 { "ğŸ’ CJMODåŠŸèƒ½æ¼”ç¤º" }
                
                div {
                    class = "demo-controls";
                    
                    button {
                        class = "chtholly-button";
                        data-action = "printMylove";
                        "è¡¨è¾¾çˆ±æ„"
                    }
                    
                    button {
                        class = "chtholly-button";
                        data-action = "iNeverAway";
                        "æ°¸æ’å®ˆæŠ¤"
                    }
                    
                    button {
                        class = "chtholly-button";
                        data-action = "utilThen";
                        "å¼‚æ­¥é“¾å¼"
                    }
                }
                
                div {
                    class = "demo-output";
                    id = "demo-output";
                    "ç‚¹å‡»æŒ‰é’®æŸ¥çœ‹ç‚æœµè‰æ¨¡å—çš„å¼ºå¤§åŠŸèƒ½..."
                }
            }
        }
        
        style {
            body {
                margin: 0;
                padding: 0;
                background: var(--chtholly-bg);
                color: var(--chtholly-text);
                font-family: 'Microsoft YaHei', sans-serif;
            }
            
            .chtholly-world {
                min-height: 100vh;
                background: linear-gradient(135deg, 
                    rgba(255, 107, 107, 0.1) 0%, 
                    rgba(78, 205, 196, 0.1) 50%, 
                    rgba(255, 217, 61, 0.1) 100%);
            }
            
            .chtholly-header {
                text-align: center;
                padding: 60px 20px;
                background: rgba(255, 255, 255, 0.9);
                backdrop-filter: blur(10px);
            }
            
            .chtholly-header h1 {
                font-size: 3em;
                margin: 0 0 20px 0;
                background: linear-gradient(45deg, var(--chtholly-primary), var(--chtholly-secondary));
                -webkit-background-clip: text;
                -webkit-text-fill-color: transparent;
            }
            
            .demo-section {
                max-width: 800px;
                margin: 40px auto;
                padding: 0 20px;
            }
            
            .demo-controls {
                display: flex;
                gap: 15px;
                justify-content: center;
                margin: 30px 0;
                flex-wrap: wrap;
            }
            
            .chtholly-button {
                background: linear-gradient(45deg, var(--chtholly-primary), var(--chtholly-secondary));
                color: white;
                border: none;
                padding: 15px 30px;
                border-radius: 25px;
                font-size: 16px;
                font-weight: bold;
                cursor: pointer;
                transition: all 0.3s ease;
                box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            }
            
            .chtholly-button:hover {
                transform: translateY(-3px);
                box-shadow: 0 6px 20px rgba(0,0,0,0.3);
            }
            
            .demo-output {
                background: #2d3748;
                color: #e2e8f0;
                padding: 20px;
                border-radius: 8px;
                font-family: 'Consolas', monospace;
                white-space: pre-wrap;
                min-height: 200px;
                border: 2px solid var(--chtholly-primary);
            }
        }
        
        // ç‚æœµè‰æ¨¡å—åŠŸèƒ½è„šæœ¬
        script {
            console.log('ğŸŒ¸ ç‚æœµè‰å®˜æ–¹æ¨¡å—æ¼”ç¤ºåˆå§‹åŒ–');
            
            // æ¨¡æ‹Ÿç‚æœµè‰æ¨¡å—çš„å¼ºå¤§åŠŸèƒ½
            const ChthollyModule = {
                printMylove: function(config) {
                    const target = config.target || 'ä¸–ç•Œ';
                    const message = config.message || 'æˆ‘æ°¸è¿œçˆ±ä½ ';
                    
                    console.log(`ğŸ’ printMylove: ${message} -> ${target}`);
                    
                    // ç”Ÿæˆå­—ç¬¦è‰ºæœ¯
                    const art = `
        â™¥â™¥â™¥â™¥â™¥â™¥â™¥â™¥â™¥â™¥â™¥â™¥â™¥â™¥â™¥â™¥â™¥â™¥â™¥â™¥â™¥
        â™¥                                   â™¥
        â™¥     ${message}           â™¥
        â™¥                                   â™¥
        â™¥           -> ${target}              â™¥
        â™¥                                   â™¥
        â™¥â™¥â™¥â™¥â™¥â™¥â™¥â™¥â™¥â™¥â™¥â™¥â™¥â™¥â™¥â™¥â™¥â™¥â™¥â™¥â™¥
                    `;
                    
                    return {
                        message: message,
                        target: target,
                        art: art,
                        timestamp: new Date().toLocaleString(),
                        emotion: 'love'
                    };
                },
                
                iNeverAway: function(config) {
                    console.log('ğŸŒŸ iNeverAway: æ°¸æ’å®ˆæŠ¤ç³»ç»Ÿæ¿€æ´»');
                    
                    const guardian = {
                        name: 'ç‚æœµè‰',
                        promise: config.promise || 'æˆ‘æ°¸è¿œä¸ä¼šç¦»å¼€',
                        target: config.target || 'é‡è¦çš„äºº',
                        duration: config.forever ? 'infinite' : 'æ°¸æ’',
                        status: 'active'
                    };
                    
                    return new Promise(resolve => {
                        setTimeout(() => {
                            console.log(`ğŸ’« å®ˆæŠ¤æ‰¿è¯º: ${guardian.promise}`);
                            resolve(guardian);
                        }, 1000);
                    });
                },
                
                utilThen: function() {
                    console.log('âš¡ util...then: å¼‚æ­¥é“¾å¼æ“ä½œ');
                    
                    const chain = {
                        fadeIn: () => {
                            console.log('  ğŸ­ fadeIn -> æ·¡å…¥æ•ˆæœ');
                            return chain;
                        },
                        slideDown: () => {
                            console.log('  ğŸ“ slideDown -> æ»‘åŠ¨æ•ˆæœ');
                            return chain;
                        },
                        sparkle: () => {
                            console.log('  âœ¨ sparkle -> é—ªçƒæ•ˆæœ');
                            return chain;
                        },
                        then: (callback) => {
                            setTimeout(callback, 300);
                            return chain;
                        }
                    };
                    
                    return chain;
                }
            };
            
            // ç»‘å®šæŒ‰é’®äº‹ä»¶
            document.addEventListener('DOMContentLoaded', function() {
                const outputElement = document.getElementById('demo-output');
                
                document.querySelectorAll('.chtholly-button').forEach(button => {
                    button.addEventListener('click', function() {
                        const action = this.dataset.action;
                        
                        switch(action) {
                            case 'printMylove':
                                const loveResult = ChthollyModule.printMylove({
                                    target: 'ä½ ',
                                    message: 'ç‚æœµè‰çš„çˆ±æ„'
                                });
                                outputElement.textContent = `printMyloveåŠŸèƒ½æ‰§è¡Œç»“æœ:\n\n${JSON.stringify(loveResult, null, 2)}\n\nå­—ç¬¦è‰ºæœ¯:${loveResult.art}`;
                                break;
                                
                            case 'iNeverAway':
                                outputElement.textContent = 'iNeverAwayåŠŸèƒ½æ‰§è¡Œä¸­...\næ­£åœ¨å»ºç«‹æ°¸æ’å®ˆæŠ¤è¿æ¥...';
                                ChthollyModule.iNeverAway({
                                    promise: 'æˆ‘æ°¸è¿œå®ˆæŠ¤ç€ä½ ',
                                    target: 'é‡è¦çš„äºº',
                                    forever: true
                                }).then(result => {
                                    outputElement.textContent = `iNeverAwayåŠŸèƒ½æ‰§è¡Œç»“æœ:\n\n${JSON.stringify(result, null, 2)}\n\nğŸ’« æ°¸æ’å®ˆæŠ¤å·²å»ºç«‹`;
                                });
                                break;
                                
                            case 'utilThen':
                                outputElement.textContent = 'util...thenåŠŸèƒ½æ‰§è¡Œä¸­...\nè¯·æŸ¥çœ‹æ§åˆ¶å°è¾“å‡º';
                                ChthollyModule.utilThen()
                                    .fadeIn()
                                    .then(() => ChthollyModule.utilThen().slideDown())
                                    .then(() => ChthollyModule.utilThen().sparkle())
                                    .then(() => {
                                        outputElement.textContent += '\n\nâœ… util...thenå¼‚æ­¥é“¾å¼æ“ä½œå®Œæˆ\næ‰€æœ‰æ•ˆæœå·²åº”ç”¨';
                                    });
                                break;
                        }
                    });
                });
                
                console.log('ğŸŠ ç‚æœµè‰æ¨¡å—æ¼”ç¤ºå‡†å¤‡å®Œæˆ');
            });
        }
    }
}